{"version":3,"sources":["../src/utils.js"],"names":["smsText","post","form","phone","process","env","message","key","err","httpResponse","body","console","error","log","JSON","parse","sendSms","smsBody","nexmo","sendNexmoSms","mailBody","mail","connect","mailJet","apiKey","apiSecret","emailData","emailRecipientList","request","sendEmail"],"mappings":";;;;;;;;qEAKO,iBAAuBA,OAAvB;AAAA;AAAA;AAAA;AAAA;AACL,8BAAQC,IAAR,CACE,2BADF,EAEE;AACEC,oBAAM;AACJC,uBAAOC,QAAQC,GAAR,CAAYF,KADf;AAEJG,yBAASN,OAFL;AAGJO,qBAAK;AAHD;AADR,aAFF,EASE,UAASC,GAAT,EAAcC,YAAd,EAA4BC,IAA5B,EAAkC;AAChC,kBAAIF,GAAJ,EAAS;AACPG,wBAAQC,KAAR,CAAc,QAAd,EAAwBJ,GAAxB;AACA;AACD;AACDG,sBAAQE,GAAR,CAAYC,KAAKC,KAAL,CAAWL,IAAX,CAAZ;AACD,aAfH;;AADK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeM,O;;;;;;sEA0Bf,kBAA4BC,OAA5B;AAAA;AAAA;AAAA;AAAA;AACHC,kBAAMZ,OAAN,CAAcU,OAAd,CAAsB,KAAtB,EAA4BZ,QAAQC,GAAR,CAAYF,KAAxC,EAA8Cc,OAA9C;;AADG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeE,Y;;;;;;sEAIf,kBAAyBC,QAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AACGC,gBADH,GACW,sBAAQC,OAAR,CAAgB,oBAAUC,OAAV,CAAkBC,MAAlC,EAAyC,oBAAUD,OAAV,CAAkBE,SAA3D,CADX;AAECC,qBAFD,GAEa;AAChB,2BAAa,2BADG;AAEhB,0BAAY,eAFI;AAGhB,yBAAW,wBAHK;AAIhB,2BAAaN,QAJG;AAKhB,4BAAc,oBAAUO;AALR,aAFb;;AASHN,iBAAKpB,IAAL,CAAU,MAAV,EAAkB2B,OAAlB,CAA0BF,SAA1B;;AATG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeG,S;;;;;AAnCtB;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAuBA,IAAMX,QAAQ,oBAAU;AACtBM,UAAQ,oBAAUN,KAAV,CAAgBM,MADF;AAEtBC,aAAW,oBAAUP,KAAV,CAAgBO;AAFL,CAAV,CAAd","file":"utils.js","sourcesContent":["import constants from './constants';\nimport request from \"request\";\nimport Nexmo from 'nexmo';\nimport Mailjet from 'node-mailjet';\n\nexport async function sendSms(smsText) {\n  request.post(\n    \"https://textbelt.com/text\",\n    {\n      form: {\n        phone: process.env.phone,\n        message: smsText,\n        key: \"textbelt\"\n      }\n    },\n    function(err, httpResponse, body) {\n      if (err) {\n        console.error(\"Error:\", err);\n        return;\n      }\n      console.log(JSON.parse(body));\n    }\n  );\n}\n\n\nconst nexmo = new Nexmo({\n  apiKey: constants.nexmo.apiKey,\n  apiSecret: constants.nexmo.apiSecret\n});\n\nexport async function sendNexmoSms(smsBody){\n    nexmo.message.sendSms('ABK',process.env.phone,smsBody);\n}\n\nexport async function sendEmail(mailBody) {\n      var mail  = Mailjet.connect(constants.mailJet.apiKey,constants.mailJet.apiSecret);\n    var emailData = {\n    'FromEmail': 'koyuncu.alibaki@gmail.com',\n    'FromName': 'ABK-ARBITRAGE',\n    'Subject': 'ARBITRAGE NOTIFICATION',\n    'Text-part': mailBody,\n    'Recipients': constants.emailRecipientList,\n};\n    mail.post('send').request(emailData);\n}"]}